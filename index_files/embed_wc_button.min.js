var body_client,s1chat_iframe=document.getElementById("s1chat_iframe"),iframe_loading=document.getElementById("iframe-loading"),s1chat_iframe_wrapper=document.getElementById("s1chat_iframe_wrapper"),
s1chat_welcome_wrapper=document.getElementById("s1chat_welcome_wrapper"),
wpp_welcome_wrapper=document.getElementById("wpp_welcome_wrapper"),

s1chat_notify_bubble=document.getElementById("s1chat_notify_bubble"),s1chat_btn=document.getElementById("s1_chat_btn"),originalH="",showed_s1chat_iframe=!1,blocked=!1,wc_qs="",iFrameSrc=!1;function setIFrameSource(e,t){var a=document.getElementById(e);null!==a&&(a.src?a.src=t:null!==a.contentWindow&&null!==a.contentWindow.location?a.contentWindow.location=t:a.setAttribute("src",t),iFrameSrc=!0)}function loadIframeDisplay(){s1chat_iframe.style.display="block",iframe_loading.style.display="none"}function initMinimizedChat(){0==iFrameSrc&&(addEventCrossBrowser("load",s1chat_iframe,loadIframeDisplay),showS1ChatButton(),function showChat(e){if(!blocked){if(blocked=!0,setTimeout(function(){blocked=!1},1e3),0==iFrameSrc||!isEmpty(e)){
  setIFrameSource("s1chat_iframe",""),
  addEventCrossBrowser("load",s1chat_iframe,loadIframeDisplay);
  var t=window.location.href,
  a=getParameterByNameFromStr("origen",wc_qs),
  i=getParameterByNameFromStr("s1_origin",wc_qs);
  s1IsEmpty(wc_qs)||s1IsEmpty(a)&&s1IsEmpty(i)||(t=s1IsEmpty(a)?i:a);
  var s=isEmpty(e)?"":"&s1_offer="+e,n="";
  "referrer"in document&&(n=document.referrer,isEmpty(n)||(n="&s1_prevpg="+encodeURIComponent(Base64.encode(n))));
  // var o=_s1ChatUrl+s+wc_qs+"&s1d=1&s1_origin="+encodeURIComponent(Base64.encode(t))+n;
}
addClass(body_client,"s1-chat-opened"),s1chat_iframe_wrapper.style.display="block",removeClass(s1chat_iframe_wrapper,"fadeOutDown animated"),addClass(s1chat_iframe_wrapper,"fadeInUp animated"),
removeClass(s1chat_welcome_wrapper,"flipInX animated"),
removeClass(wpp_welcome_wrapper,"flipInX animated"),
removeClass(s1chat_btn,"s1-new-message"),
s1chat_welcome_wrapper.style.display="none",
wpp_welcome_wrapper.style.display="none",
showed_s1chat_iframe=!showed_s1chat_iframe,resizeChatWrapper()}(blocked=!0,setTimeout(function(){blocked=!1},1e3),removeClass(body_client,"s1-chat-opened"),removeClass(s1chat_iframe_wrapper,"fadeInUp animated"),addClass(s1chat_iframe_wrapper,"fadeOutDown animated"),setTimeout(function(){s1chat_iframe_wrapper.style.display="none"},500),showS1ChatButton(),showed_s1chat_iframe=!showed_s1chat_iframe)}
// function resizeChatWrapper(){
//  if((winH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,showed_s1chat_iframe&&winH!==s1chat_iframe_wrapper.clientHeight)){
//    ""===originalH&&(originalH=s1chat_iframe_wrapper.clientHeight);var e=originalH;winH<originalH&&(e=winH),s1chat_iframe_wrapper.style.height=e+"px",s1chat_iframe_wrapper.style.display="block",s1chat_iframe_wrapper.setAttribute("style",s1chat_iframe_wrapper.getAttribute("style").replace("height: "+e+"px","height: "+e+"px !important"))}}function showS1ChatButton(){s1chat_welcome_wrapper.style.display="block",addClass(s1chat_welcome_wrapper,"flipInX animated")}function switchState(e){switch(e){case"s1_conversationInitialized":addClass(s1chat_btn,"s1-conversation-initialized");break;case"s1_conversationFinalized":removeClass(s1chat_btn,"s1-conversation-initialized"),removeClass(s1chat_btn,"s1-new-message");break;case"s1_newMessage":if("block"==s1chat_welcome_wrapper.style.display){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;s1chat_notify_bubble.style.bottom=t-(s1chat_welcome_wrapper.offsetTop+10)+"px",s1chat_notify_bubble.style.right=a-(s1chat_welcome_wrapper.offsetLeft+s1chat_welcome_wrapper.clientWidth)+"px",addClass(s1chat_btn,"s1-new-message")}}}function initS1WelcomeChat(){setTimeout(function(){body_client=document.getElementsByTagName("html")[0],addClass(body_client,"s1-chat-initilized"),initDeviceDetect(),addDeviceClassesToHtmlTag();var e="undefined"!=typeof _wc_chatid?_wc_chatid:"",t="undefined"!=typeof _wc_small?_wc_small:"0",a=!isNaN(parseInt(_wc_auto_open))&&_wc_auto_open;!1!==a&&(s1chat_welcome_wrapper.style.display="none",setTimeout(function(){showChat()},1e3*a)),s1IsEmpty(e)?(wc_qs="undefined"!=typeof _wc_qs?"&"+_wc_qs:"",showS1ChatButton()):(switchState("s1_conversationInitialized"),"1"==t||hasClass(s1chat_welcome_wrapper,"wc_small")?initMinimizedChat():showChat())},100)}function showChatIOS(e){0==_wc_ios_redirect?(hideChat(),void 0!==window.safari?window.open(e,"_self"):location.href=e):setIFrameSource("s1chat_iframe",e)}resizeChatWrapper(),addEventCrossBrowser("resize",window,resizeChatWrapper),addEventCrossBrowser("message",window,function(e){if(null!==e.data&&void 0!==e.data&&("s1_hideChat"==e.data&&hideChat(),"s1_conversationInitialized"==e.data&&switchState(e.data),"s1_conversationFinalized"==e.data&&switchState(e.data),"undefined"!==e.data.name&&"s1_setSessionCookie"==e.data.name&&(document.cookie=e.data.cookie.name+"="+e.data.cookie.value),"undefined"!==e.data.name&&"s1_getSessionCookie"==e.data.name&&e.source.postMessage(document.cookie,e.origin),s1chat_notify_bubble&&"s1_newMessage"==e.data)){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;s1chat_notify_bubble.style.bottom=t-(s1chat_welcome_wrapper.offsetTop+10)+"px",s1chat_notify_bubble.style.right=a-(s1chat_welcome_wrapper.offsetLeft+s1chat_welcome_wrapper.clientWidth)+"px",switchState(e.data)}}),initS1WelcomeChat();